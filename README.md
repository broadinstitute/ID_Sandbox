# SLF_pipeline
10/28/20
jbagnall@broadinstitute.org

Currently assumes running script version directly from Broad cluster. 

## Description
This pipeline takes the read count table generated by the Concensus2 pipeline (or cleaned counts from ConcensusMap), and calculates standardized log fractions (SLF) as well as ZZ-scores for each strain in each well.

The output is a .csv file with column explained here:
https://drive.google.com/file/d/155xhk3xNZGd8gtGPf13geOfJtJ6CkzGJ/view?usp=sharing


## Running the pipeline
<ol>
  <li> Make a copy of the bash file RunSLFPipeline.sh to your own folder
    <ul>
      <li> Example: log in to Broad server & save a copy to your current directory </li>
      <li> >>ssh username@login.broadinstitute.org </li>
    </ul>
  </li>

  <li> Open the copied file in a text editor and adjust the inputs, especially which file you want to input, and where you want to save the results:
    <ul>
      <li> Change the orange to your input file path (output from Concensus2) </li>
      <li> Change the blue to your output file path (where you want save your SLF files) </li>
      <li> The parameters in yellow are ones that are usually decided one time and shouldnâ€™t need to be changed for every run. See comments in the file below to decide what to input for them. </li>
    </ul>
  </li>  


![image](https://user-images.githubusercontent.com/100953754/160419296-d9b59bf8-d6f5-4cd0-a5e0-8737ac8a4b7e.png) </br>
![image](https://user-images.githubusercontent.com/100953754/160421725-b7065df5-2eb0-41a3-85cc-cf9a31fc914d.png)

 <li> Run the bash script by typing in the following into your terminal
   <ul>
     <li> >>use UGER </li>
     <li> >>qsub RunSLFPipeline_my_copy.sh (name of your copied file) </li>
     <li> >>qstat (use this to check the status of your submission) </li>
   </ul>
  </li>

<li> After your script has finished running, check for your resulting .csv file in the directory you specified </li>


</ol>
